---
title: 红宝书重读笔记之第二章
date: 2022-01-08 12:13:22
tags: [JavaScript,前端,红宝书]
categories: [前端,JavaScript]
---

# 红宝书重读笔记第二章

第一章是基于JS的起源，以及各版本的发展，迭代和标准的制定，并无所要紧之事，故不特开一章。

第二章主要讲解\<script>标签，食之无味，弃之可惜， 开此一章，总结第二章。

script标签由网景所创造，有几个较为有意思的点

1. ### async和defer

   这两者分别是异步执行脚本和推迟执行脚本，两者都只对外部js有效。两者的共同点是：外部js在下载和加载的过程中不影响文档的解析，区别在于defer是推迟到文档加载完成之后执行，async在下载和加载之后立刻执行。

   从而async的执行根本就不看外部js在文档中声明或引用的顺序，只要是一下载并加载完成，就立刻执行，是个随心所欲的主。

   defer原则上是会在文档解析完成之后，再按照在文档中声明或引用的顺序依次执行，但是实际运用当中不一定是这样，所以一般最好只包含一个defer脚本。

   defer能保证所有脚本都在DOMContentLoaded事件之前执行。async能保证所有脚本在页面load之前执行，但是可能在DOMContentLoad事件之前或者之后，这谁也说不准，所以如果使用了async，就等于告诉页面，你不会使用document.write的方法。

   

   ![defer和async](https://raw.githubusercontent.com/HUMBLEDADDY/ImageHosting/master/img/bVcQV0)

2. ### 动态加载脚本

   这个用的还真比较少，一般是对dom操作动态添加一个script标签的时候使用，但是动态添加的script浏览器的预加载器是看不见的，这会影响性能，可以使用link标签提前显式声明：

   `<link rel="preload" href="....js">`

3. ### 一些琐碎的东西

   剩下的就是一些琐碎的东西

   - script标签可以放在body标签的最后面，这样不影响页面的加载，用户的感觉就是页面加载地更快了。

   - 外部文件优先级高于行内代码，一个script标签不能既引用外部文件，又声明行内代码，两者起冲突时，只会执行外部文件

   - 其他的想到了在写

     

     

## 此章终



